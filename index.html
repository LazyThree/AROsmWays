<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8' />
        <title>AR.js osm example</title>
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <!-- Assumes AR.js build is in the 'AR.js' directory -->
        <script type='text/javascript' src='ar-threex-location-only.js'></script>
        <script type='text/javascript' src='aframe-ar.js'></script>
        <script type='text/javascript' src='index.js'></script>
        <script type='text/javascript' src='osm.js'></script>
        <script type='text/javascript' src='osmway.js'></script>
        <script type='text/javascript' src='click.js'></script>
        <style type='text/css'>
        #status {
            font-family: Roboto, sans-serif;
            color: white;
            position: absolute;
            top:50%;
            left:calc(50% - 100px);
            font-size: 150%;
            font-weight: bold;
        }
        </style>

    </head>
    <body style='margin: 0; overflow: hidden'>
        <div id='setloc' style='position:absolute; left: 10px; bottom: 2%; z-index:999; background-color: blue; color: white; padding: 10px'>
            Lat:<input id="lat" value="51.049" /> 
            Lon: <input id="lon" value="-0.723"/> 
            Min Acc: <input id='minacc' value='1000' /> <input type='button' id='go' value='go' />
        </div>
        <a-scene vr-mode-ui='enabled: false' arjs='sourceType: webcam; videoTexture: true; debugUIEnabled: false'>
            <div id='status'></div>
            <a-camera gps-new-camera='simulateLatitude: 51.049; simulateLongitude: -0.723' position='0 20 0' wasd-controls='acceleration: 1300'></a-camera>
            <a-entity osm></a-entity>
        </a-scene>
        <script>
                const el = document.querySelector("[gps-new-camera]");
                let curlat = 51.040;
                let curlng = -0.710;
                const minacc = 100;
                index = 0;
                function AddLat()
                {
                    curlat = curlat + 0.001*index;
                    curlon = curlon + 0.001*index;
                    el.setAttribute('gps-new-camera', { simulateLatitude: curlat, simulateLongitude: curlon, positionMinAccuracy: minacc } );
                    el.update();
                    if(index%10==0)
                    {
                        consoloe.log(el.getAttribute('gps-new-camera'));
                        console.log("当前纬度为"+String(curlat));
                        console.log("当前经度为"+String(curlon));
                    }
                    index+=1;
                }

                setInterval(AddLat,100);
    
        </script>
    </body>
</html>
